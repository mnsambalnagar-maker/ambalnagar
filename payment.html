<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ambal Nagar Association – Payment Portal</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Montserrat",sans-serif;
      background:radial-gradient(circle at top,#1d4ed8 0,#020617 55%);
      color:#e5e7eb;
      min-height:100vh;
    }

    /* FULLSCREEN SPLIT LAYOUT */
    .split{
      height:100vh;
      width:100vw;
      display:flex;
    }
    .left, .right{
      flex:1;
      display:flex;
      flex-direction:column;
      padding:32px 32px;
    }

    /* LEFT – brand / summary */
    .left{
      border-right:1px solid rgba(30,64,175,0.4);
      background:radial-gradient(circle at top left,rgba(59,130,246,0.3) 0,transparent 55%);
      justify-content:center;
      gap:18px;
    }
    .logo-circle{
      width:70px;height:70px;
      border-radius:999px;
      background:rgba(15,23,42,0.9);
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 18px 40px rgba(0,0,0,0.7);
      border:1px solid rgba(148,163,184,0.7);
    }
    .logo-circle img{
      width:42px;
      height:42px;
      object-fit:contain;
    }
    .left h1{
      font-size:2rem;
      font-weight:800;
      letter-spacing:-0.04em;
    }
    .left p{
      max-width:340px;
      font-size:.95rem;
      color:#cbd5f5;
    }
    .bullet{list-style:none;margin-top:4px;font-size:.9rem;}
    .bullet li{margin:4px 0;}
    .pill{
      display:inline-flex;align-items:center;gap:6px;
      padding:5px 11px;border-radius:999px;
      background:rgba(15,23,42,0.85);
      font-size:.78rem;color:#bfdbfe;
    }

    /* RIGHT – full-screen form card */
    .right{
      display:flex;
      align-items:center;
      justify-content:center;
      background:radial-gradient(circle at bottom right,rgba(56,189,248,0.25) 0,transparent 60%);
    }
    .card{
      width:100%;
      max-width:460px;
      background:rgba(15,23,42,0.96);
      border-radius:26px;
      padding:24px 22px 20px;
      box-shadow:0 28px 80px rgba(0,0,0,0.75);
      border:1px solid rgba(148,163,184,0.45);
      display:flex;
      flex-direction:column;
      max-height:80vh;
    }
    .card-header{
      text-align:center;
      margin-bottom:16px;
    }
    .card-header h2{
      font-size:1.25rem;
      font-weight:800;
      letter-spacing:-0.03em;
    }
    .card-header span{
      display:block;
      font-size:.85rem;
      font-weight:600;
      color:#9ca3af;
      text-transform:uppercase;
      letter-spacing:.08em;
      margin-top:4px;
    }

    .form-wrap{
      flex:1;
      overflow-y:auto;
      padding-right:4px;
    }
    form{margin-top:4px}
    .form-group{margin:10px 0}
    label{
      display:block;
      font-size:.8rem;
      font-weight:600;
      color:#e5e7eb;
      margin-bottom:5px;
    }
    input,textarea{
      width:100%;
      padding:9px 11px;
      font-size:.92rem;
      border-radius:12px;
      border:1.4px solid #374151;
      background:#020617;
      color:#e5e7eb;
      transition:border-color .2s,box-shadow .2s,background .2s;
    }
    input::placeholder,textarea::placeholder{color:#6b7280;}
    input:focus,textarea:focus{
      outline:none;
      border-color:#60a5fa;
      box-shadow:0 0 0 3px rgba(96,165,250,0.35);
    }
    textarea{min-height:70px;resize:vertical}

    .btn-main{
      width:100%;
      background:linear-gradient(135deg,#22c55e,#16a34a);
      color:#f9fafb;
      border:none;
      border-radius:999px;
      font-size:.98rem;
      font-weight:700;
      padding:12px 30px;
      margin-top:16px;
      cursor:pointer;
      transition:transform .18s,box-shadow .18s;
      box-shadow:0 18px 40px rgba(22,163,74,0.6);
    }
    .btn-main:hover{
      transform:translateY(-3px);
      box-shadow:0 24px 56px rgba(22,163,74,0.75);
    }

    .hint{
      margin-top:10px;
      font-size:.8rem;
      color:#9ca3af;
      text-align:center;
    }

    /* QR MODAL */
    .qr-modal{
      display:none;
      position:fixed;
      inset:0;
      z-index:900;
      background:rgba(15,23,42,0.6);
      align-items:center;
      justify-content:center;
    }
    .qr-modal.active{display:flex}
    .qr-box{
      background:#020617;
      border-radius:22px;
      box-shadow:0 30px 80px rgba(0,0,0,0.8);
      padding:22px 18px 16px;
      max-width:320px;
      width:90vw;
      text-align:center;
      border:1px solid rgba(148,163,184,0.6);
    }
    .qr-box h2{
      font-size:.98rem;
      font-weight:700;
      margin-bottom:10px;
      color:#e5e7eb;
    }
    .qr-code-container{margin:10px 0}
    .qr-instruction{
      font-size:.86rem;
      color:#9ca3af;
      margin-bottom:8px;
    }
    .receipt-btn{
      background:#111827;
      color:#e5e7eb;
      border-radius:999px;
      border:none;
      font-weight:600;
      padding:7px 22px;
      font-size:.86rem;
      margin:5px 3px;
      cursor:pointer;
      transition:background .15s,transform .15s;
    }
    .receipt-btn:hover{
      background:#1f2937;
      transform:translateY(-1px);
    }

    @media (max-width:900px){
      .split{flex-direction:column;}
      .left{height:40vh;padding:24px 20px;}
      .right{height:60vh;padding:16px 12px;}
      .card{max-height:100%;}
    }
  </style>
</head>
<body>
  <div class="split">
    <!-- LEFT FULLSCREEN PANEL -->
    <section class="left">
      <div class="logo-circle">
        <img src="img/logo.png" alt="Ambal Nagar Logo">
      </div>
      
      <h1>Ambal Nagar Association</h1>
      <p>Pay your membership fees securely using UPI QR. Works with GPay, PhonePe, Paytm and all major UPI apps.</p>
      <ul class="bullet">
        <li>✔ Instant QR based payment</li>
        <li>✔ Auto receipt after payment</li>
        <li>✔ Your details stay private & secure</li>
      </ul>
    </section>

    <!-- RIGHT FULLSCREEN FORM CARD -->
    <section class="right">
      <div class="card">
        <div class="card-header">
          <h2>Membership Payment</h2>
          <span>Fill details & pay via QR</span>
        </div>

        <div class="form-wrap">
          <form id="payForm" autocomplete="off">
            <div class="form-group">
              <label>Name *</label>
              <input type="text" id="name" required>
            </div>
            <div class="form-group">
              <label>Mobile *</label>
              <input type="tel" id="mobile" pattern="[0-9]{10}" maxlength="10" required>
            </div>
            <div class="form-group">
              <label>Address *</label>
              <textarea id="address" required></textarea>
            </div>
            <div class="form-group">
              <label>Amount (₹) *</label>
              <input type="number" id="amount" value="100" min="1" required>
            </div>
            <button class="btn-main" type="button" onclick="openQr()">Pay via QR</button>
          </form>
        </div>

        <p class="hint">You will be redirected to receipt page after payment.</p>
      </div>
    </section>
  </div>

  <!-- QR modal -->
  <div id="qrModal" class="qr-modal">
    <div class="qr-box">
      <h2 id="qrLabel"></h2>
      <div class="qr-code-container" id="qrCodeArea"></div>
      <div class="qr-instruction">Scan this QR with your UPI payment app to pay.</div>
      <button class="receipt-btn" onclick="generateReceipt()">View Receipt</button>
      <button class="receipt-btn" onclick="closeQrModal()">Cancel</button>
    </div>
  </div>

  <script>
    function openQr() {
      const name = document.getElementById('name').value.trim();
      const amount = document.getElementById('amount').value || "100";
      const upiId = "mathisurendhar-2@okicici";

      if (!name) {
        alert("Please enter your name.");
        return;
      }

      document.getElementById('qrLabel').innerText = "QR – ₹" + amount;
      const q = document.getElementById('qrCodeArea');
      q.innerHTML = "";
      const upiUrl = "upi://pay?pa=" + upiId + "&pn=AmbalNagar&am=" + amount + "&cu=INR";
      new QRCode(q, { text: upiUrl, width:160, height:160 });

      document.getElementById('qrModal').classList.add('active');
    }

    function closeQrModal() {
      document.getElementById('qrModal').classList.remove('active');
    }

    function generateReceipt() {
      const name = encodeURIComponent(document.getElementById('name').value);
      const mob  = encodeURIComponent(document.getElementById('mobile').value);
      const addr = encodeURIComponent(document.getElementById('address').value);
      const amt  = encodeURIComponent(document.getElementById('amount').value);
      const dt   = encodeURIComponent(new Date().toLocaleString('en-IN'));
      const bill = 'AMBAL' + Math.floor(100000 + Math.random() * 999999);

      const link = `receipt.html?name=${name}&mobile=${mob}&address=${addr}&amount=${amt}&bill=${bill}&dt=${dt}`;
      window.location = link;
    }
  </script>
</body>
</html>
